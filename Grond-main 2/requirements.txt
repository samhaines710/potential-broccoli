# ── Core scientific stack ──────────────────────────────────────────────────────
numpy>=1.26,<2.3
scipy>=1.11,<2.0
pandas>=2.1,<2.3
pytz>=2023.3

# ── General IO / SDKs ─────────────────────────────────────────────────────────
requests>=2.31
python-dotenv>=1.0
boto3>=1.28
joblib>=1.3
prometheus-client>=0.15
websocket-client>=1.7
pandas_market_calendars>=4.4

# ── Market data SDKs ──────────────────────────────────────────────────────────
polygon-api-client>=1.12

# ── ML / Optimization ─────────────────────────────────────────────────────────
scikit-learn>=1.4.2,<1.6
xgboost>=2.0.3,<2.1
optuna>=3.5

# ── RL stack (Gym + SB3 + Torch CPU) ──────────────────────────────────────────
gymnasium>=0.28
torch>=2.2,<2.3           # CPU wheels; pin GPU separately if needed
stable-baselines3>=2.2

# ── Quant / Portfolio / Optimization ──────────────────────────────────────────
cvxpy>=1.4.2
PyPortfolioOpt>=1.5
riskfolio-lib>=4.4

# ── Trading frameworks (NOT 3.11-compatible) ──────────────────────────────────
backtrader==1.9.78.123; python_version < "3.11"
zipline-reloaded==3.0.3; python_version < "3.11"
python-interface>=1.5.3; python_version < "3.11"

# (Optional) JAX is heavy and version-sensitive; keep it off CI 3.11
jax[cpu]>=0.4.26; python_version < "3.11"

# ── Brokers / Connectivity ────────────────────────────────────────────────────
ib_insync>=0.9.86

# ── QuantLib (PyPI pkg is "QuantLib") ─────────────────────────────────────────
QuantLib>=1.31

# ── Web frameworks / serving ──────────────────────────────────────────────────
flask>=2.3
gunicorn>=21.2
fastapi>=0.110
uvicorn[standard]>=0.29

# ── Messaging / bots ──────────────────────────────────────────────────────────
python-telegram-bot>=20.0

# ── Dev tooling ───────────────────────────────────────────────────────────────
pytest>=7.4
flake8>=6.1
ruff>=0.5
